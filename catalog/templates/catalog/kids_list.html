{% load static %}
{% load crispy_forms_tags %}
{% load crispy_forms_filters %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kid's Menu</title>
    <link  rel="stylesheet" href= {% static 'css/my_styles.css' %}>
    <style>
        body{
            background-image: url("{% static 'images/kids_option.jpeg' %}");
            background-size: auto;
            background-repeat: repeat-x;
            z-index: -1;
        }
    </style>
</head>
<body>
    <h1>Kid's Menu</h1>
    <table>
        <tr>
            <th>Drink Types</th>
            <th>Size</th>
            <th>Flavor</th>
            <th>Temperature</th>
            <th>Base Price</th>
            <th>Add to Cart</th>
        </tr>
        <tr>
            <td>Milk</td>
            <td>
                <select id="kids-size">
                    <option value="small">Small</option>
                    <option value="medium">Medium</option>
                    <option value="large">Large</option>
                </select>
            </td>
            <td>
                <select id="kids-flavor">
                    <option value="chocolate">Chocolate</option>
                    <option value="strawberry">Strawberry</option>
                    <option value="mango">Mango</option>
                    <option value="raspberry">Raspberry</option>
                    <option value="watermelon">Watermelon</option>
                    <option value="whipped cream">Whipped Cream</option>
                </select>
            </td>
            <td>
                <select id="kids-temp">
                    <option value="hot">Hot</option>
                    <option value="iced">Iced</option>
                </select>
            </td>
            <td>$3.00</td>
            <td><button onclick="addToCart('kids-type', 'kids-size', 'kids-flavor', 'kids-temp', 4.00)">Add to Cart</button></td>
        </tr>
        <tr>
            <td>Lemonade</td>
            <td>
                <select id="kids-size">
                    <option value="small">Small</option>
                    <option value="medium">Medium</option>
                    <option value="large">Large</option>
                </select>
            </td>
            <td>
                <select id="kids-flavor">
                    <option value="chocolate">Chocolate</option>
                    <option value="strawberry">Strawberry</option>
                    <option value="mango">Mango</option>
                    <option value="raspberry">Raspberry</option>
                    <option value="watermelon">Watermelon</option>
                    <option value="whipped cream">Whipped Cream</option>
                </select>
            </td>
            <td>
                <select id="kids-temp">
                    <option value="hot">Hot</option>
                    <option value="iced">Iced</option>
                </select>
            </td>
            <td>$3.00</td>
            <td><button onclick="addToCart('kids-type', 'kids-size', 'kids-flavor', 'kids-temp', 4.00)">Add to Cart</button></td>
        </tr>
        <tr>
            <td>Juice</td>
            <td>
                <select id="kids-size">
                    <option value="small">Small</option>
                    <option value="medium">Medium</option>
                    <option value="large">Large</option>
                </select>
            </td>
            <td>
                <select id="kids-flavor">
                    <option value="chocolate">Chocolate</option>
                    <option value="strawberry">Strawberry</option>
                    <option value="mango">Mango</option>
                    <option value="raspberry">Raspberry</option>
                    <option value="watermelon">Watermelon</option>
                    <option value="whipped cream">Whipped Cream</option>
                </select>
            </td>
            <td>
                <select id="kids-temp">
                    <option value="hot">Hot</option>
                    <option value="iced">Iced</option>
                </select>
            </td>
            <td>$3.00</td>
            <td><button onclick="addToCart('kids-type', 'kids-size', 'kids-flavor', 'kids-temp', 4.00)">Add to Cart</button></td>
        </tr>
    </table>
    <p class="image-contain">
      <a class="heading", href="{% url 'home' %}">Back to HomePage</a>
    </p>
    
<script>
    function addToCart(productName, sizeSelectId, flavorSelectId, tempSelectId, basePrice) {
        const sizeSelect = document.getElementById(sizeSelectId);
        const selectedSize = sizeSelect.value;
        const flavorSelect = document.getElementById(flavorSelectId);
        const selectedFlavor = flavorSelect.value;
        const tempSelect = document.getElementById(tempSelectId);
        const selectedTemp = tempSelect.value;
        let price;

        switch (selectedSize) {
            case 'small':
                price = basePrice;
                break;
            case 'medium':
                price = basePrice + 1.00;
                break;
            case 'large':
                price = basePrice + 2.00;
                break;
            default:
                price = basePrice;
        }

        // Get existing cart items from local storage
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        // Add the new product to the cart
        cart.push({ name: `${productName} (${selectedSize}), ${selectedFlavor})`, price: price });

        // Save the updated cart back to local storage
        localStorage.setItem('cart', JSON.stringify(cart));

        alert(`${productName} (${selectedSize}, ${selectedFlavor}, ${selectedTemp}) has been added to your cart for $${price.toFixed(2)}!`);
    }
</script>
</body>
</html>  